Version 4
SHEET 1 2884 680
WIRE 256 -464 224 -464
WIRE 624 -464 256 -464
WIRE 928 -464 624 -464
WIRE 256 -416 256 -464
WIRE 928 -416 928 -464
WIRE 624 -400 624 -464
WIRE 928 -304 928 -336
WIRE 256 -256 256 -336
WIRE 624 -256 624 -320
WIRE 624 -256 592 -256
WIRE 928 -192 928 -240
WIRE 1008 -192 928 -192
WIRE 624 -176 624 -256
WIRE 672 -176 624 -176
WIRE 816 -176 752 -176
WIRE 624 -128 624 -176
WIRE 928 -128 928 -192
WIRE 256 -80 256 -176
WIRE 256 -80 208 -80
WIRE 400 -80 256 -80
WIRE 560 -80 480 -80
WIRE 816 -80 816 -176
WIRE 864 -80 816 -80
WIRE -112 0 -112 -96
WIRE 16 0 16 -96
WIRE 624 0 624 -32
WIRE 624 0 592 0
WIRE 928 0 928 -32
WIRE 928 0 624 0
WIRE 256 16 256 -80
WIRE 624 32 624 0
WIRE 256 160 256 96
WIRE 624 160 624 112
WIRE 624 160 256 160
WIRE -112 176 -112 80
WIRE 16 176 16 80
WIRE 624 192 624 160
FLAG -112 176 0
FLAG -112 -96 +5V
IOPIN -112 -96 Out
FLAG 624 192 0
FLAG 224 -464 +5V
IOPIN 224 -464 In
FLAG 208 -80 Ue
FLAG 16 176 0
FLAG 16 -96 Trapez
IOPIN 16 -96 Out
FLAG 592 -256 UC1
FLAG 1008 -192 Ua
FLAG 592 0 URE
SYMBOL voltage -112 -16 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value +5V
SYMBOL npn 560 -128 R0
SYMATTR InstName Q1
SYMATTR Value BC847C
SYMBOL npn 864 -128 R0
SYMATTR InstName Q2
SYMATTR Value BC847C
SYMBOL res 240 -272 R0
SYMATTR InstName R1
SYMATTR Value R=1+(R0-(R0*V(trapez)))
SYMBOL res 240 0 R0
SYMATTR InstName R2
SYMATTR Value R=R0*V(trapez)
SYMBOL res 496 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL res 608 16 R0
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL res 768 -192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL res 240 -432 R0
SYMATTR InstName R19
SYMATTR Value 3.3k
SYMBOL voltage 16 -16 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 74 200 VLeft 2
SYMATTR InstName V2
SYMATTR Value PULSE(0V 1V 0s 500ms 500ms 0ms 1s 1)
SYMBOL LED 912 -304 R0
SYMATTR InstName D1
SYMATTR Value QTLP690C
SYMBOL res 912 -432 R0
SYMATTR InstName R7
SYMATTR Value 470
SYMBOL res 608 -416 R0
SYMATTR InstName R4
SYMATTR Value 10k
TEXT -136 -368 Left 2 !.param R0=10k\n.param Rt=10k
TEXT -136 -408 Left 2 !.tran 1s startup
